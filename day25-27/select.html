<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>
<div>
    <select id="year-select">
        <option value="2000">2000</option>
        <option value="2001">2001</option>
        <option value="2002">2002</option>
        <option value="2003">2003</option>
        <option value="2004">2004</option>
        <option value="2005">2005</option>
        <option value="2006">2006</option>
        <option value="2007">2007</option>
        <option value="2008">2008</option>
        <option value="2009">2009</option>
        <option value="2010">2010</option>
        <option value="2011">2011</option>
        <option value="2012">2012</option>
        <option value="2013">2013</option>
        <option value="2014">2014</option>
        <option value="2015">2015</option>
        <option value="2016">2016</option>
        <option value="2017">2017</option>
        <option value="2018">2018</option>
        <option value="2019">2019</option>
        <option value="2020">2020</option>
        <option value="2021">2021</option>
        <option value="2022">2022</option>
        <option value="2023">2023</option>
        <option value="2024">2024</option>
        <option value="2025">2025</option>
        <option value="2026">2026</option>
        <option value="2027">2027</option>
        <option value="2028">2028</option>
        <option value="2029">2029</option>
        <option value="2030">2030</option>
        <option value="2031">2031</option>
        <option value="2032">2032</option>
    </select>

    <select id="month-select">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
    </select>

    <select id="day-select">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
        <option value="26">26</option>
        <option value="27">27</option>
        <option value="28">28</option>
        <option value="29">29</option>
        <option value="30">30</option>
        <option value="31">31</option>
    </select>

    <select id="hour-select">
        <option value="0">00</option>
        <option value="1">01</option>
        <option value="2">02</option>
        <option value="3">03</option>
        <option value="4">04</option>
        <option value="5">05</option>
        <option value="6">06</option>
        <option value="7">07</option>
        <option value="8">08</option>
        <option value="9">09</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
    </select>

    <select id="minute-select">
        <option value="0">00</option>
        <option value="1">01</option>
        <option value="2">02</option>
        <option value="3">03</option>
        <option value="4">04</option>
        <option value="5">05</option>
        <option value="6">06</option>
        <option value="7">07</option>
        <option value="8">08</option>
        <option value="9">09</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
        <option value="26">26</option>
        <option value="27">27</option>
        <option value="28">28</option>
        <option value="29">29</option>
        <option value="30">30</option>
        <option value="31">31</option>
        <option value="32">32</option>
        <option value="33">33</option>
        <option value="34">34</option>
        <option value="35">35</option>
        <option value="36">36</option>
        <option value="37">37</option>
        <option value="38">38</option>
        <option value="39">39</option>
        <option value="40">40</option>
        <option value="41">41</option>
        <option value="42">42</option>
        <option value="43">43</option>
        <option value="44">44</option>
        <option value="45">45</option>
        <option value="46">46</option>
        <option value="47">47</option>
        <option value="48">48</option>
        <option value="49">49</option>
        <option value="50">50</option>
        <option value="51">51</option>
        <option value="52">52</option>
        <option value="53">53</option>
        <option value="54">54</option>
        <option value="55">55</option>
        <option value="56">56</option>
        <option value="57">57</option>
        <option value="58">58</option>
        <option value="59">59</option>
    </select>

    <select id="second-select">
        <option value="0">00</option>
        <option value="1">01</option>
        <option value="2">02</option>
        <option value="3">03</option>
        <option value="4">04</option>
        <option value="5">05</option>
        <option value="6">06</option>
        <option value="7">07</option>
        <option value="8">08</option>
        <option value="9">09</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
        <option value="26">26</option>
        <option value="27">27</option>
        <option value="28">28</option>
        <option value="29">29</option>
        <option value="30">30</option>
        <option value="31">31</option>
        <option value="32">32</option>
        <option value="33">33</option>
        <option value="34">34</option>
        <option value="35">35</option>
        <option value="36">36</option>
        <option value="37">37</option>
        <option value="38">38</option>
        <option value="39">39</option>
        <option value="40">40</option>
        <option value="41">41</option>
        <option value="42">42</option>
        <option value="43">43</option>
        <option value="44">44</option>
        <option value="45">45</option>
        <option value="46">46</option>
        <option value="47">47</option>
        <option value="48">48</option>
        <option value="49">49</option>
        <option value="50">50</option>
        <option value="51">51</option>
        <option value="52">52</option>
        <option value="53">53</option>
        <option value="54">54</option>
        <option value="55">55</option>
        <option value="56">56</option>
        <option value="57">57</option>
        <option value="58">58</option>
        <option value="59">59</option>
    </select>
</div>

<p id="result-wrapper">现在距离 2019年1月1日星期X HH:MM:SS 还有 X 天 X 小时 X 分 X 秒</p>
<script>
    var oDiv = document.getElementsByTagName('div')[0];
    var daySelect = document.getElementById('day-select');
    var year, month, day, hour, minute, second, date1, times, tmp1, tmp2, tmp3, days, hours, minutes, seconds

    function compareTwoDate() {
        //计算两个日期的时间差
        var date2 = new Date();
        date1 = new Date(getNewDate());
        times = date2.getTime() - date1.getTime();   //时间差毫秒数

        days = Math.abs(Math.floor(times / (24 * 60 * 60 * 1000)));
        tmp1 = times % (24 * 60 * 60 * 1000);

        hours = Math.floor(tmp1 / (60 * 60 * 1000));
        tmp2 = tmp1 % (60 * 60 * 1000);

        minutes = Math.abs(Math.floor(tmp2 / (60 * 1000)));
        tmp3 = tmp2 % (60 * 1000);

        seconds = Math.abs(Math.floor(tmp3 / 1000));
    }

    function getSelectText(id) {
        //获取选中的option对应的值
        var myselect = document.getElementById(id);
        var myIndex = myselect.selectedIndex;
        return myselect.options[myIndex].text;
    }

    function getNewDate() {//获取选择的新日期和时间
        year = getSelectText('year-select');
        month = getSelectText('month-select');
        day = getSelectText('day-select');
        hour = getSelectText('hour-select');
        minute = getSelectText('minute-select');
        second = getSelectText('second-select');
        return year + '-' + month + '-' + day + " " + hour + ':' + minute + ':' + second;
    }

    function weekDay(someDate) {//获取星期
        var w = someDate.getDay();
        var res = '';
        switch (w) {
            case 0:
                res = '星期日';
                break;
            case 1:
                res = '星期一';
                break;
            case 2:
                res = '星期二';
                break;
            case 3:
                res = '星期三';
                break;
            case 4:
                res = '星期四';
                break;
            case 5:
                res = '星期五';
                break;
            case 6:
                res = '星期六';
                break;
            default:
                res = '坐等周末';
        }
        return res;
    }

    //  function getxingqi(d){//计算星期
    //     var weekday=new Array(7);
    //     weekday[0]="星期日";
    //     weekday[1]="星期一";
    //     weekday[2]="星期二";
    //     weekday[3]="星期三";
    //     weekday[4]="星期四";
    //     weekday[5]="星期五";
    //     weekday[6]="星期六";
    //     return weekday[d.getDay()];
    // }

    function dayShow() {//根据不同月份显示不同的的天数
        if (month == 1 || month == 3 || month == 5 || month == 7 || month == 8 || month == 10 || month == 12) {
            daySelect.options[30].style.display = 'block';
            daySelect.options[29].style.display = 'block';
            daySelect.options[28].style.display = 'block';
        } else if (month == 2) {
            daySelect.options[30].style.display = 'none';
            daySelect.options[29].style.display = 'none';
            daySelect.options[28].style.display = 'none';
            if ((year % 4 == 0 && year % 100 == 0) || year % 400 == 0) {
                daySelect.options[28].style.display = 'block';
            }
        } else {
            daySelect.options[30].style.display = 'none';
            daySelect.options[29].style.display = 'block';
            daySelect.options[28].style.display = 'block';
        }
    }

    function para() {
        var p = document.getElementById('result-wrapper');
        if (times <= 0) {
            p.innerHTML = "现在距离" + " " + year + "年" + month + "月" + day + "日" + weekDay(new Date(date1)) + " " + hour + ":" + minute + ":" + second + "还有" + days + "天" + hours + "小时" + minutes + "分钟" + seconds + "秒";
        }
        else {
            p.innerHTML = "现在距离" + " " + year + "年" + month + "月" + day + "日" + weekDay(new Date(date1)) + " " + hour + ":" + minute + ":" + second + "已经过去" + days + "天" + hours + "小时" + minutes + "分钟" + seconds + "秒";
        }
    }

    oDiv.onchange = function () {
        getNewDate();
        dayShow();
        compareTwoDate();
        para();
    }

</script>
</body>
</html>